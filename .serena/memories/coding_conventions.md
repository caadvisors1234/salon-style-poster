# コーディング規約

## Python コーディング規約

### 命名規則
- **クラス名**: PascalCase (例: `SalonBoardStylePoster`)
- **関数・変数名**: snake_case (例: `get_password_hash`)
- **定数**: UPPER_SNAKE_CASE (例: `UPLOAD_DIR`)
- **プライベートメソッド**: アンダースコアプレフィックス (例: `_start_browser`)

### 型ヒント
- すべての関数に型ヒントを記述
- Pydanticモデルでデータ検証
- SQLAlchemyモデルでデータベーススキーマ定義

### ドキュメント
- クラス・関数にdocstringを記述
- Googleスタイルのdocstring形式
- 引数・戻り値の説明を含める

### インポート順序
1. 標準ライブラリ
2. サードパーティライブラリ
3. ローカルアプリケーション

### エラーハンドリング
- 適切な例外処理
- ログ出力（logging モジュール使用）
- ユーザーフレンドリーなエラーメッセージ

## データベース設計原則

### テーブル命名
- 複数形、小文字、アンダースコア区切り
- 例: `salon_board_settings`, `current_tasks`

### カラム命名
- 単数形、小文字、アンダースコア区切り
- 例: `user_id`, `created_at`

### 制約
- 外部キー制約でデータ整合性保証
- UNIQUE制約でビジネスルール強制
- CHECK制約で値の妥当性検証

## API設計原則

### RESTful API
- リソース指向のURL設計
- HTTPメソッドの適切な使用
- ステータスコードの適切な使用

### 認証・認可
- JWT Bearer認証
- 管理者・一般ユーザー権限分離
- リソース所有者のみアクセス可能

### エラーレスポンス
- 一貫したエラーレスポンス形式
- エラーコードとメッセージ
- バリデーションエラーの詳細情報

## セキュリティ原則

### パスワード管理
- bcryptでハッシュ化
- ソルトラウンド12
- 平文パスワードの保存禁止

### 暗号化
- Fernet（対称鍵暗号）で機密情報暗号化
- 環境変数でキー管理
- キーの定期ローテーション

### 認証
- JWT トークンの有効期限設定
- トークンの適切な検証
- セッション管理の実装